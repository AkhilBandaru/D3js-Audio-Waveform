<!DOCTYPE html>
<meta charset="utf-8">
<style>
* {
  margin: 0;
  font-family: 'Amatic SC', cursive;
}

html {
  color: #fff;
  background-color: #222;
  margin: 1.0em;
}

h1 {
  font-size: 48px;
  font-weight: bold;
}

h1 a,
h1 a:visited {
  text-decoration: none;
  font-weight: normal;
  font-size: 90%;
  color: #000;
  border-bottom: 1px dashed #bbb;
}

h1 a:hover {
  color: ;
}

.waveform > svg,
.waveform > div {
  border: 2px solid #ddd;
  height: 140px;
  margin-left: 40px;
  padding: 2px;
  position: relative;
}

.waveform h2 {
  margin-left: 40px;
  font-size: 36px;
}

.waveform > div div.bar {
  background-color: red;
  position: absolute;
}

svg {
  position: absolute;
  width: 100%;
}

.waveform .svg g rect {
  fill: red;
}

.soundcloud_embed {
  display: none;
  opacity: 1;
  margin-left: 40px;
  width: 968px;
  /* weird padding offset; SC embed is slightly too short? */
}

.axis {
  position: absolute;
  top: 4px;
  left: -40px;
}

.axis g path.domain {
  display: none;
}

.axis g text {
  font-family: 'Roboto', sans-serif;
  opacity: 1;
  font-size: 10px;
}

.chart {}
</style>
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="description" content="">
  <meta name="author" content="jm3">
  <title> d3 audio waveforms</title>
  <!-- build:css stylesheets/app.min.css-->
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Roboto:400,100|Raleway:400,200|Amatic+SC">
  <!-- endbuild-->
</head>

<body>
  <div class="page">
    <h1>d3 audio waveforms &middot;<a href="http://www.nicolabortignon.com/">Nicola Bortignon</a></h1>
    <div class="waveform">
      <h2>100 samples out of the full waveform</h2>
      <div class="svg">
        <!-- h2 Audio:-->
      </div>
      <h2>200 samples</h2>
      <div class="svg2">
        <!-- h2 Audio:-->
      </div>
      <h2>500 samples</h2>
      <div class="svg3">
        <!-- h2 Audio:-->
      </div>
      <h2>1000 samples</h2>
      <div id="svg4" class="svg4">
        <!-- h2 Audio:-->
      </div>
    </div>
  </div>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <!-- endbuild-->
</body>

</html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.js"></script>
<script>
var wave_json;
var wave_uri = "http://public.jm3.net/d3/geiger.json";
var max_points = 248;
var waveFormObject = [1.00, 0.85, 0.68, 0.37, 1.00, 0.98, 0.41, 0.22, 1.00, 0.88, 0.81, 0.68, 1.00, 1.00, 0.65, 0.16, 1.00, 1.00, 0.81, 0.68, 1.00, 1.00, 0.73, 0.18, 1.00, 1.00, 0.85, 0.68, 0.39, 1.00, 0.99, 0.35, 0.23, 1.00, 0.88, 0.81, 0.68, 1.00, 1.00, 0.72, 0.14, 1.00, 1.00, 0.81, 0.68, 1.00, 1.00, 0.68, 0.16, 1.00, 1.00, 0.85, 0.68, 0.36, 1.00, 0.98, 0.41, 0.22, 1.00, 0.89, 0.81, 0.68, 1.00, 0.99, 0.65, 0.16, 1.00, 1.00, 0.81, 0.68, 1.00, 1.00, 0.73, 0.18, 1.00, 1.00, 0.81, 0.68, 0.39, 1.00, 0.91, 0.36, 0.23, 1.00, 0.88, 0.81, 0.68, 1.00, 0.98, 0.72, 0.14, 1.00, 1.00, 0.81, 0.68, 1.00, 1.00, 0.68, 0.16, 1.00, 1.00, 0.81, 0.68, 0.37, 1.00, 0.90, 0.41, 0.22, 1.00, 0.88, 0.81, 0.68, 1.00, 0.99, 0.62, 0.16, 1.00, 1.00, 0.81, 0.68, 1.00, 1.00, 0.73, 0.18, 1.00, 1.00, 0.81, 0.68, 0.39, 1.00, 0.91, 0.35, 0.24, 1.00, 0.88, 0.81, 0.68, 1.00, 0.98, 0.62, 0.14, 1.00, 0.90, 0.81, 0.68, 1.00, 1.00, 0.68, 0.16, 1.00, 1.00, 0.81, 0.68, 0.37, 1.00, 0.91, 0.40, 0.21, 1.00, 0.88, 0.81, 0.68, 1.00, 0.99, 0.58, 0.15, 1.00, 0.89, 0.81, 0.68, 1.00, 1.00, 0.73, 0.19, 1.00, 1.00, 0.81, 0.68, 0.39, 1.00, 0.89, 0.20, 0.24, 1.00, 0.88, 0.81, 0.69, 1.00, 0.99, 0.62, 0.15, 1.00, 0.89, 0.81, 0.69, 1.00, 1.00, 0.68, 0.31, 1.00, 1.00, 0.81, 0.71, 0.39, 1.00, 0.89, 0.38, 0.22, 1.00, 0.88, 0.81, 0.73, 1.00, 0.99, 0.60, 0.23, 1.00, 0.88, 0.92, 0.75, 1.00, 1.00, 0.73, 0.56, 1.00, 1.00, 1.00, 0.97, 1.00, 1.00, 0.89, 0.87, 0.26, 1.00, 0.88, 1.00, 0.79, 1.00, 0.98, 0.91, 0.34, 1.00, 0.88, 1.00, 0.83, 1.00, 1.00, 1.00, 0.85, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.89, 1.00, 0.26, 1.00, 0.88, 1.00, 0.83, 1.00, 0.71, 1.00, 0.68, 1.00, 0.91, 1.00, 1.00, 1.00, 1.00, 1.00, 0.91, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.82, 1.00, 0.30, 1.00, 0.90, 1.00, 0.90, 1.00, 0.97, 1.00, 0.35, 1.00, 0.91, 1.00, 0.87, 1.00, 1.00, 1.00, 0.86, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.80, 1.00, 0.32, 1.00, 0.91, 1.00, 0.85, 1.00, 1.00, 1.00, 0.37, 1.00, 0.90, 1.00, 0.89, 1.00, 1.00, 1.00, 0.83, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.80, 1.00, 0.29, 1.00, 0.91, 1.00, 0.79, 1.00, 0.99, 1.00, 0.39, 1.00, 0.90, 1.00, 0.82, 1.00, 1.00, 1.00, 0.69, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.89, 1.00, 0.27, 1.00, 0.91, 1.00, 0.70, 1.00, 0.99, 1.00, 0.33, 1.00, 0.89, 1.00, 0.83, 1.00, 1.00, 1.00, 0.86, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.86, 0.99, 0.35, 1.00, 0.86, 1.00, 0.68, 1.00, 0.99, 1.00, 0.33, 1.00, 0.90, 1.00, 0.91, 1.00, 1.00, 1.00, 0.68, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.41, 1.00, 0.86, 1.00, 0.53, 1.00, 1.00, 1.00, 0.32, 1.00, 0.89, 1.00, 0.83, 1.00, 1.00, 1.00, 0.98, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.85, 1.00, 0.48, 1.00, 0.96, 1.00, 0.32, 1.00, 0.89, 1.00, 0.85, 1.00, 1.00, 1.00, 0.62, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.87, 1.00, 0.50, 1.00, 1.00, 1.00, 0.32, 1.00, 0.89, 1.00, 0.85, 1.00, 0.99, 1.00, 0.66, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.82, 1.00, 0.45, 1.00, 0.94, 1.00, 0.31, 1.00, 0.89, 1.00, 0.83, 1.00, 1.00, 1.00, 0.53, 1.00, 1.00, 1.00, 0.92, 1.00, 1.00, 1.00, 0.98, 1.00, 1.00, 0.83, 1.00, 0.46, 1.00, 0.92, 1.00, 0.34, 1.00, 0.89, 1.00, 0.84, 1.00, 1.00, 1.00, 0.56, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.87, 1.00, 0.61, 1.00, 0.52, 1.00, 0.57, 1.00, 0.54, 1.00, 1.00, 1.00, 0.48, 1.00, 0.62, 1.00, 0.59, 1.00, 0.84, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.34, 1.00, 0.27, 1.00, 0.38, 1.00, 0.33, 1.00, 0.51, 1.00, 0.37, 1.00, 0.68, 1.00, 0.54, 1.00, 0.87, 1.00, 1.00, 1.00, 0.96, 1.00, 1.00, 1.00, 1.00, 0.21, 1.00, 0.18, 1.00, 0.27, 1.00, 0.25, 1.00, 0.48, 1.00, 0.34, 1.00, 0.57, 1.00, 0.73, 1.00, 0.78, 1.00, 1.00, 1.00, 0.94, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.16, 1.00, 0.24, 1.00, 0.21, 1.00, 0.38, 1.00, 0.26, 1.00, 0.42, 1.00, 0.27, 1.00, 0.59, 1.00, 1.00, 1.00, 0.94, 1.00, 0.86, 1.00, 1.00, 0.27, 1.00, 0.14, 1.00, 0.24, 1.00, 0.17, 1.00, 0.36, 1.00, 0.24, 1.00, 0.41, 1.00, 0.21, 1.00, 0.63, 1.00, 0.96, 1.00, 0.91, 1.00, 0.66, 1.00, 1.00, 1.00, 1.00, 0.13, 1.00, 0.26, 1.00, 1.00, 1.00, 0.91, 1.00, 1.00, 1.00, 0.53, 1.00, 0.97, 1.00, 1.00, 1.00, 1.00, 1.00, 0.94, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.94, 1.00, 0.35, 1.00, 0.95, 1.00, 0.89, 1.00, 1.00, 1.00, 0.44, 1.00, 0.95, 1.00, 0.90, 1.00, 1.00, 1.00, 0.98, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.91, 1.00, 0.39, 1.00, 0.94, 1.00, 0.89, 1.00, 1.00, 1.00, 0.47, 1.00, 0.93, 1.00, 0.85, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.89, 1.00, 0.29, 1.00, 0.94, 1.00, 1.00, 1.00, 1.00, 1.00, 0.44, 1.00, 0.91, 1.00, 0.87, 1.00, 1.00, 1.00, 0.85, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.84, 1.00, 0.32, 1.00, 0.91, 1.00, 0.68, 1.00, 1.00, 1.00, 0.37, 1.00, 0.91, 1.00, 0.84, 1.00, 1.00, 1.00, 0.84, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.89, 1.00, 0.30, 1.00, 0.89, 1.00, 0.72, 1.00, 1.00, 1.00, 0.40, 1.00, 0.95, 1.00, 0.94, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.35, 1.00, 0.85, 1.00, 0.67, 1.00, 1.00, 1.00, 0.38, 1.00, 0.92, 1.00, 0.87, 1.00, 1.00, 1.00, 0.71, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.44, 1.00, 0.86, 1.00, 0.58, 1.00, 1.00, 1.00, 0.43, 1.00, 0.91, 1.00, 0.91, 1.00, 1.00, 1.00, 0.78, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.91, 1.00, 0.57, 1.00, 1.00, 1.00, 0.37, 1.00, 0.98, 1.00, 1.00, 1.00, 1.00, 1.00, 0.90, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.87, 1.00, 0.50, 1.00, 1.00, 1.00, 0.41, 1.00, 0.90, 1.00, 0.92, 1.00, 1.00, 1.00, 0.77, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.83, 1.00, 0.47, 1.00, 0.99, 1.00, 0.35, 1.00, 0.91, 1.00, 0.91, 1.00, 1.00, 1.00, 0.74, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.98, 1.00, 1.00, 0.56, 1.00, 1.00, 1.00, 0.51, 1.00, 0.48, 1.00, 0.36, 1.00, 0.52, 1.00, 1.00, 1.00, 0.67, 1.00, 0.50, 1.00, 0.90, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.88, 1.00, 0.32, 1.00, 1.00, 1.00, 0.32, 1.00, 0.27, 1.00, 0.43, 1.00, 0.52, 1.00, 0.62, 1.00, 0.30, 1.00, 0.81, 1.00, 1.00, 1.00, 0.98, 1.00, 0.75, 0.97, 1.00, 0.33, 1.00, 0.42, 1.00, 0.38, 1.00, 0.24, 1.00, 0.42, 1.00, 1.00, 1.00, 0.56, 1.00, 0.67, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.34, 1.00, 1.00, 0.31, 1.00, 1.00, 1.00, 0.39, 1.00, 0.29, 1.00, 0.42, 1.00, 0.46, 1.00, 0.60, 1.00, 0.29, 1.00, 0.81, 1.00, 1.00, 1.00, 0.96, 1.00, 0.33, 1.00, 1.00, 0.31, 1.00, 0.47, 1.00, 0.35, 1.00, 0.32, 1.00, 0.38, 1.00, 1.00, 1.00, 0.64, 1.00, 0.26, 1.00, 0.74, 1.00, 1.00, 1.00, 0.96, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.90, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.92, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.96, 0.92, 1.00, 1.00, 0.99, 1.00, 0.69, 1.00, 0.99, 0.94, 0.86, 1.00, 1.00, 1.00, 0.70, 1.00, 0.95, 0.89, 0.80, 1.00, 1.00, 0.85, 1.00, 1.00, 1.00, 0.97, 0.73, 1.00, 1.00, 0.90, 1.00, 0.62, 1.00, 0.92, 1.00, 0.77, 1.00, 0.99, 0.69, 0.39, 1.00, 0.97, 1.00, 0.83, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.89, 1.00, 0.49, 1.00, 0.90, 1.00, 0.90, 1.00, 1.00, 1.00, 0.85, 1.00, 0.91, 1.00, 0.82, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.87, 1.00, 0.59, 1.00, 0.90, 1.00, 0.91, 1.00, 1.00, 1.00, 1.00, 1.00, 0.98, 1.00, 0.87, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.93, 1.00, 0.33, 1.00, 0.94, 1.00, 0.75, 1.00, 1.00, 1.00, 1.00, 1.00, 0.96, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.60, 1.00, 0.86, 1.00, 0.68, 1.00, 1.00, 1.00, 0.66, 1.00, 0.90, 1.00, 0.86, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.51, 1.00, 0.86, 1.00, 0.61, 1.00, 1.00, 1.00, 0.86, 1.00, 0.91, 1.00, 0.82, 1.00, 1.00, 1.00, 0.68, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.88, 1.00, 0.90, 1.00, 1.00, 1.00, 1.00, 1.00, 0.54, 1.00, 0.90, 1.00, 0.85, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.86, 1.00, 0.54, 1.00, 1.00, 1.00, 0.82, 1.00, 0.91, 1.00, 0.85, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.85, 1.00, 0.58, 1.00, 1.00, 1.00, 0.70, 1.00, 0.30, 1.00, 0.49, 1.00, 0.69, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.44, 1.00, 0.30, 1.00, 0.43, 1.00, 0.66, 1.00, 0.30, 1.00, 0.51, 1.00, 0.67, 1.00, 1.00, 1.00, 0.58, 1.00, 0.96, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.47, 1.00, 0.27, 1.00, 0.43, 1.00, 1.00, 1.00, 0.57, 1.00, 0.65, 1.00, 0.53, 1.00, 1.00, 1.00, 0.62, 1.00, 0.87, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.87, 1.00, 0.24, 1.00, 0.40, 1.00, 0.54, 1.00, 0.29, 1.00, 1.00, 1.00, 0.60, 1.00, 1.00, 1.00, 0.85, 1.00, 0.93, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.40, 1.00, 0.46, 1.00, 0.46, 1.00, 0.28, 1.00, 0.50, 1.00, 0.43, 1.00, 0.96, 1.00, 0.42, 1.00, 0.85, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.46, 1.00, 0.35, 1.00, 0.53, 1.00, 0.29, 1.00, 0.50, 1.00, 0.62, 1.00, 0.99, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.93, 1.00, 1.00, 1.00, 0.97, 1.00, 0.94, 1.00, 0.89, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.75, 1.00, 0.93, 1.00, 0.94, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.92, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.95, 1.00, 0.57, 1.00, 0.96, 1.00, 1.00, 1.00, 1.00, 1.00, 0.91, 1.00, 0.98, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.89, 1.00, 0.67, 1.00, 0.91, 1.00, 0.89, 1.00, 1.00, 1.00, 0.92, 1.00, 0.90, 1.00, 0.98, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.53, 1.00, 0.89, 1.00, 0.94, 1.00, 1.00, 1.00, 0.87, 1.00, 0.89, 1.00, 0.91, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.80, 1.00, 0.95, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.87, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.48, 1.00, 0.89, 1.00, 0.75, 1.00, 1.00, 1.00, 0.88, 1.00, 0.91, 1.00, 0.87, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.58, 1.00, 0.86, 1.00, 0.73, 1.00, 1.00, 1.00, 0.59, 1.00, 0.97, 1.00, 0.92, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.93, 1.00, 0.55, 1.00, 1.00, 1.00, 0.79, 1.00, 0.90, 1.00, 0.95, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.87, 1.00, 0.59, 1.00, 0.99, 1.00, 1.00, 1.00, 0.98, 1.00, 0.88, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.56, 1.00, 0.82, 1.00, 0.69, 1.00, 0.88, 1.00, 0.58, 1.00, 1.00, 1.00, 0.81, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.55, 1.00, 0.59, 1.00, 0.56, 1.00, 0.55, 1.00, 0.46, 1.00, 0.68, 1.00, 0.79, 1.00, 1.00, 1.00, 0.62, 1.00, 0.99, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.64, 1.00, 0.64, 1.00, 0.51, 1.00, 0.74, 1.00, 0.37, 1.00, 0.62, 1.00, 0.70, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.74, 1.00, 1.00, 1.00, 0.52, 1.00, 1.00, 1.00, 0.62, 1.00, 0.76, 1.00, 0.74, 1.00, 1.00, 1.00, 0.52, 1.00, 0.87, 1.00, 1.00, 1.00, 1.00, 0.97, 0.89, 1.00, 1.00, 0.45, 1.00, 0.43, 1.00, 0.57, 1.00, 0.41, 1.00, 0.61, 1.00, 0.76, 1.00, 1.00, 1.00, 0.82, 1.00, 0.97, 1.00, 1.00, 1.00, 1.00, 0.93, 0.76, 1.00, 1.00, 0.57, 1.00, 0.60, 1.00, 0.63, 1.00, 0.41, 1.00, 0.60, 1.00, 0.61, 1.00, 0.89, 1.00, 0.75, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.60, 1.00, 0.52, 1.00, 0.52, 0.85, 0.46, 1.00, 0.61, 1.00, 0.55, 1.00, 1.00, 0.67, 0.42, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.67, 0.68, 1.00, 1.00, 0.54, 1.00, 0.57, 1.00, 1.00, 1.00, 0.58, 1.00, 0.72, 1.00, 0.53, 1.00, 0.75, 0.83, 0.53, 1.00, 0.76, 1.00, 0.95, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.88, 1.00, 0.64, 1.00, 0.49, 1.00, 0.37, 1.00, 1.00, 1.00, 0.55, 1.00, 1.00, 1.00, 0.52, 1.00, 0.87, 1.00, 0.99, 1.00, 1.00, 0.73, 0.62, 0.99, 1.00, 0.97, 1.00, 0.55, 1.00, 0.55, 0.71, 0.49, 1.00, 0.56, 1.00, 0.55, 1.00, 0.64, 0.79, 0.54, 1.00, 0.63, 1.00, 1.00, 1.00, 1.00, 1.00, 0.76, 1.00, 1.00, 1.00, 1.00, 0.56, 1.00, 0.58, 0.86, 0.68, 0.91, 0.56, 1.00, 0.58, 0.81, 0.69, 1.00, 0.61, 0.78, 0.66, 1.00, 0.85, 0.87, 0.71, 1.00, 1.00, 0.68, 1.00, 1.00, 1.00, 0.55, 0.91, 1.00, 0.84, 0.53, 0.85, 0.61, 1.00, 0.61, 0.77, 0.68, 0.66, 0.62, 0.69, 0.65, 1.00, 0.81, 0.80, 0.73, 0.71, 0.65, 0.66, 0.81, 1.00, 1.00, 0.70, 0.84, 0.86, 0.64, 0.66, 0.68, 0.76, 1.00, 0.70, 0.76, 1.00, 0.74, 0.63, 0.82, 0.80, 1.00, 0.77, 0.84, 0.67, 0.72, 0.72, 0.87, 0.73, 1.00, 1.00, 0.81, 0.74, 0.64, 1.00, 0.70, 0.79, 0.77, 1.00, 0.78, 0.76, 0.69, 1.00, 0.64, 0.82, 1.00, 1.00, 0.75, 0.80, 1.00, 0.91, 0.69, 0.94, 0.90, 1.00, 1.00, 0.83, 0.84, 0.77, 0.67, 0.79, 0.84, 0.81, 0.97, 0.72, 0.79, 0.80, 0.87, 0.80, 0.81, 0.77, 1.00, 0.88, 0.88, 0.86, 0.99, 0.86, 0.88, 0.94, 1.00, 0.94, 0.86, 1.00, 1.00, 0.88, 0.91, 1.00, 0.80, 1.00, 0.93, 0.88, 1.00, 0.83, 0.89, 0.81, 0.86, 1.00, 0.84, 0.87, 0.62, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.97, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.59, 1.00, 1.00, 1.00, 0.83, 1.00, 0.97, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.93, 1.00, 0.65, 1.00, 1.00, 1.00, 0.61, 1.00, 1.00, 1.00, 0.96, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.51, 1.00, 1.00, 1.00, 0.69, 1.00, 0.96, 1.00, 0.82, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.47, 1.00, 0.99, 1.00, 1.00, 1.00, 0.99, 1.00, 0.85, 1.00, 1.00, 1.00, 1.00, 1.00, 0.91, 1.00, 0.86, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.49, 1.00, 1.00, 1.00, 0.73, 1.00, 0.97, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.98, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.55, 1.00, 1.00, 1.00, 0.66, 1.00, 0.91, 1.00, 0.87, 1.00, 1.00, 1.00, 0.93, 1.00, 0.95, 1.00, 0.94, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.45, 1.00, 1.00, 1.00, 0.84, 1.00, 0.90, 1.00, 0.84, 1.00, 1.00, 1.00, 0.86, 1.00, 1.00, 1.00, 0.96, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.97, 1.00, 1.00, 1.00, 1.00, 1.00, 0.82, 1.00, 1.00, 1.00, 0.98, 1.00, 0.90, 1.00, 0.85, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.96, 1.00, 0.77, 1.00, 0.90, 1.00, 0.87, 1.00, 1.00, 1.00, 1.00, 1.00, 0.97, 1.00, 0.83, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.92, 1.00, 0.69, 1.00, 0.94, 1.00, 0.93, 1.00, 1.00, 1.00, 0.91, 1.00, 0.99, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.61, 1.00, 0.92, 1.00, 0.88, 1.00, 1.00, 1.00, 0.66, 1.00, 0.90, 1.00, 0.88, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.74, 1.00, 1.00, 1.00, 0.98, 1.00, 0.91, 1.00, 0.98, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.60, 1.00, 0.94, 1.00, 1.00, 1.00, 1.00, 1.00, 0.57, 1.00, 0.90, 1.00, 0.88, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.54, 1.00, 0.87, 1.00, 0.73, 1.00, 1.00, 1.00, 0.88, 1.00, 0.90, 1.00, 0.85, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.63, 1.00, 0.87, 1.00, 0.63, 1.00, 1.00, 1.00, 0.69, 1.00, 0.95, 1.00, 0.93, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.87, 1.00, 0.60, 1.00, 1.00, 1.00, 0.76, 1.00, 0.91, 1.00, 0.89, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.87, 1.00, 0.55, 1.00, 1.00, 1.00, 0.57, 1.00, 0.90, 1.00, 0.93, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.85, 1.00, 0.49, 1.00, 1.00, 1.00, 0.80, 1.00, 0.95, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.98, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.83, 1.00, 0.62, 1.00, 1.00, 1.00, 0.56, 1.00, 0.90, 1.00, 0.95, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.52, 1.00, 1.00, 1.00, 0.71, 1.00, 0.92, 1.00, 0.92, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.95, 1.00, 1.00, 1.00, 0.49, 1.00, 0.49, 1.00, 0.45, 1.00, 0.56, 1.00, 0.43, 1.00, 0.83, 1.00, 0.37, 1.00, 0.81, 1.00, 1.00, 1.00, 1.00, 1.00, 0.86, 0.96, 1.00, 0.34, 1.00, 0.36, 1.00, 0.52, 1.00, 0.29, 1.00, 0.53, 1.00, 0.52, 1.00, 0.75, 1.00, 0.33, 1.00, 0.80, 1.00, 0.95, 1.00, 1.00, 1.00, 0.78, 1.00, 1.00, 0.30, 1.00, 0.31, 1.00, 0.34, 1.00, 0.19, 1.00, 0.44, 1.00, 0.33, 1.00, 0.71, 1.00, 0.55, 1.00, 1.00, 1.00, 0.82, 1.00, 1.00, 1.00, 0.84, 1.00, 1.00, 0.40, 1.00, 0.18, 1.00, 0.42, 1.00, 0.18, 1.00, 0.35, 1.00, 0.42, 1.00, 0.87, 1.00, 0.19, 1.00, 0.72, 1.00, 0.86, 1.00, 1.00, 1.00, 0.65, 1.00, 1.00, 1.00, 1.00, 0.38, 1.00, 0.33, 1.00, 0.14, 1.00, 0.39, 1.00, 0.33, 1.00, 0.69, 1.00, 0.22, 1.00, 0.79, 1.00, 0.80, 1.00, 0.94, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.95, 1.00, 0.69, 1.00, 0.98, 1.00, 1.00, 1.00, 1.00, 1.00, 0.94, 1.00, 0.95, 1.00, 0.88, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.81, 1.00, 0.49, 1.00, 0.95, 1.00, 0.93, 1.00, 1.00, 1.00, 0.76, 1.00, 0.92, 1.00, 0.90, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.82, 1.00, 0.57, 1.00, 0.93, 1.00, 0.82, 1.00, 1.00, 1.00, 0.37, 1.00, 0.97, 1.00, 0.90, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.81, 1.00, 0.51, 1.00, 0.91, 1.00, 0.72, 1.00, 1.00, 1.00, 0.80, 1.00, 0.91, 1.00, 0.85, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.97, 1.00, 0.50, 1.00, 0.89, 1.00, 0.68, 1.00, 1.00, 1.00, 0.50, 1.00, 0.89, 1.00, 0.84, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.90, 1.00, 0.52, 1.00, 0.84, 1.00, 0.65, 1.00, 1.00, 1.00, 0.57, 1.00, 0.89, 1.00, 0.84, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 0.47, 1.00, 0.85, 1.00, 0.46, 1.00, 0.93, 1.00, 0.43, 1.00, 0.88, 1.00, 0.79, 1.00, 1.00, 1.00, 0.78, 1.00, 1.00, 1.00, 0.94, 1.00, 1.00, 0.95, 1.00, 1.00, 1.00, 0.85, 1.00, 0.44, 1.00, 1.00, 1.00, 0.46, 1.00, 0.89, 1.00, 0.78, 1.00, 1.00, 0.83, 0.52, 1.00, 1.00, 0.99, 0.77, 1.00, 1.00, 1.00, 0.91, 1.00, 1.00, 0.85, 0.92, 0.40, 1.00, 0.95, 0.74, 0.33, 1.00, 0.88, 0.84, 0.74, 1.00, 1.00, 0.99, 0.52, 1.00, 1.00, 0.81, 0.73, 1.00, 1.00, 0.86, 0.87, 1.00, 1.00, 0.81, 0.71, 0.39, 1.00, 1.00, 0.66, 0.37, 1.00, 0.89, 0.81, 0.71, 1.00, 0.96, 0.70, 0.48, 1.00, 1.00, 0.81, 0.70, 1.00, 1.00, 1.00, 0.59, 1.00, 1.00, 0.81, 0.69, 0.42, 1.00, 0.91, 0.38, 0.25, 1.00, 0.88, 0.81, 0.68, 1.00, 1.00, 0.84, 0.14, 1.00, 1.00, 0.81, 0.68, 1.00, 1.00, 0.88, 0.17, 1.00, 1.00, 0.81, 0.68, 0.37, 1.00, 1.00, 0.45, 0.23, 1.00, 0.89, 0.81, 0.68, 1.00, 0.99, 0.63, 0.16, 1.00, 0.90, 0.81, 0.68, 1.00, 1.00, 1.00, 0.18, 1.00, 1.00, 0.81, 0.68, 0.41, 1.00, 0.91, 0.40, 0.25, 1.00, 0.88, 0.81, 0.68, 1.00, 1.00, 0.84, 0.14, 1.00, 0.91, 0.81, 0.68, 1.00, 1.00, 0.85, 0.16, 1.00, 1.00, 0.81, 0.68, 0.37, 1.00, 1.00, 0.33, 0.22, 1.00, 0.89, 0.81, 0.68, 1.00, 0.99, 0.63, 0.15, 1.00, 0.91, 0.81, 0.68, 1.00, 1.00, 1.00, 0.19, 1.00, 1.00, 0.81, 0.68, 0.43, 1.00, 0.89, 0.18, 0.25, 1.00, 0.89, 0.81, 0.68, 1.00, 1.00, 0.68, 0.14, 1.00, 0.90, 0.81, 0.68, 1.00, 1.00, 0.88, 0.17, 1.00, 1.00, 0.81, 0.68, 1.00, 1.00, 1.00, 0.25, 0.23, 1.00, 0.89, 0.81, 0.68, 1.00, 0.99, 0.47, 0.18, 0.38];

var originalDataLength = waveFormObject.length;
var height = 140;

// how to fit N values in a M pixels with N<>M. 
// receive array and return a different array
//
// a= the array;
// m= number of sample in input
// n= number of sample you want output
function subSample(a, n) {
  var returnArray = [];
  var m = a.length;
  var samplingRatio = m / n;

  //just round down for now in case of comma separated
  for (var i = 0; i < m;) {
    returnArray.push(a[Math.floor(i)]);
    i += samplingRatio;
  }
  return returnArray;
}

// initialized the 4 different charts
d3.json(wave_uri, function(error, json) {
  svg_render(subSample(waveFormObject, 100), ".waveform > .svg");
  svg_render(subSample(waveFormObject, 200), ".waveform > .svg2");
  svg_render(subSample(waveFormObject, 500), ".waveform > .svg3");
  svg_render(subSample(waveFormObject, 1000), ".waveform > .svg4");
});

function svg_render(data, svg, viewBox) {
  if (!viewBox) {
    // we are not specifying the viewBox,
    // we will assume that it is equal to the number of samples. 
    // Here is multiplied by 2 because we want to maintain the gap between bars of 1 unit.
    viewBox = "0 0 " + data.length * 2 + " 140";
  }
  var node = d3.select(svg).append("svg")
    .attr("viewBox", viewBox)
    .attr("preserveAspectRatio", "none")
    .attr("class", "chart")
    .attr("width", '100%')
    .attr("height", height);

  var gradient = node.append("svg:defs")
    .append("svg:linearGradient")
    .attr("id", "gradient")
    .attr("x1", "0%")
    .attr("y1", "0%")
    .attr("x2", "100%")
    .attr("y2", "100%")
    .attr("spreadMethod", "pad");

  gradient.append("svg:stop")
    .attr("offset", "0%")
    .attr("stop-color", "#0c0")
    .attr("stop-opacity", 1);

  gradient.append("svg:stop")
    .attr("offset", "100%")
    .attr("stop-color", "#c00")
    .attr("stop-opacity", 1);

  var y = d3.scale.linear().range([height, -height]);
  var max_val = d3.max(data, function(d) {
    return d;
  });
  y.domain([-max_val, max_val]);
  var x = d3.scale.linear().domain([0, data.length]);
  var bar_width = 1;
  // create a gradient between two color with a number of steps equals to the
  // total bars we have in our graph.
  var color = d3.scale.linear()
    .domain([0, data.length])
    .range(["#eb1680", "#ff7a15"]);

  var chart = node.attr("width", '100%').attr("height", height);
  var bar = chart.selectAll("g")
    .data(data)
    .enter().append("g") // svg "group"
    .attr("transform", function(d, i) {
      return "translate(" + (2 * i * bar_width) + ")";
    });

  bar.append("rect")
    .attr("y", function(d) {
      var yv = height - Math.abs(y(d) / 2) - height / 2 + 2;
      return yv;
    })
    .attr("height", function(d) {
      return Math.abs(y(d));
    })
    .attr("width", bar_width)
    .style("fill", function(d, i) {
      return color(i);
    });

  d3.select(".svg").append("svg")
    .attr("width", 60)
    .attr("height", height)
    .append("g")
    .attr("transform", "translate(40," + (height / 2) + ")")
}

function d(s) {
  console.log("log: " + s);
}
</script>